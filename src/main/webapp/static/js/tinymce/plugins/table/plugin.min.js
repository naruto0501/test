!function(e,t){"use strict";var n={};function o(e,o,l){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(o===t)throw"invalid module definition, dependencies must be specified";if(l===t)throw"invalid module definition, definition function must be specified";!function(e,t){for(var o,l=[],a=0;a<e.length;++a){if(!(o=n[e[a]]||r(e[a])))throw"module definition dependecy not found: "+e[a];l.push(o)}t.apply(null,l)}(o,function(){n[e]=l.apply(null,arguments)})}function r(t){for(var n=e,o=t.split(/[.\/]/),r=0;r<o.length;++r){if(!n[o[r]])return;n=n[o[r]]}return n}o("tinymce/tableplugin/Utils",["tinymce/Env"],function(e){var t=function(e){return function(t,n){t&&(1===(n=parseInt(n,10))||0===n?t.removeAttribute(e,1):t.setAttribute(e,n,1))}},n=function(e){return function(t){return parseInt(t.getAttribute(e)||1,10)}};return{setColSpan:t("colSpan"),setRowSpan:t("rowspan"),getColSpan:n("colSpan"),getRowSpan:n("rowSpan"),setSpanVal:function(e,n,o){t(n)(e,o)},getSpanVal:function(e,t){return n(t)(e)},paddCell:function(t){(!e.ie||e.ie>10)&&(t.hasChildNodes()||(t.innerHTML='<br data-mce-bogus="1" />'))}}}),o("tinymce/tableplugin/SplitCols",["tinymce/util/Tools","tinymce/tableplugin/Utils"],function(e,t){var n=function(e,t,n){return e[n]?e[n][t]:null},o=function(e,t,o){var r=n(e,t,o);return r?r.elm:null},r=function(e,t,r,l){var a,i=0,c=o(e,t,r);for(a=r;(l>0?a<e.length:a>=0)&&c===n(e,t,a).elm;a+=l)i++;return i},l=function(e,t,n){for(var o,r=e[n],l=t;l<r.length;l++)if((o=r[l]).real)return o.elm;return null},a=function(e,n){var o=e.elm.ownerDocument.createElement("td");return t.setColSpan(o,t.getColSpan(e.elm)),t.setRowSpan(o,n),t.paddCell(o),o},i=function(e,t,n,o){var r=l(e,n+1,o);r?r.parentNode.insertBefore(t,r):(r=l(e,0,o)).parentNode.appendChild(t)};return{splitAt:function(n,l,c,s){var d=function(e,n){for(var o,l=[],a=e[n],i=0;i<a.length;i++)o=a[i],l.push({elm:o.elm,above:r(e,i,n,-1)-1,below:r(e,i,n,1)-1}),i+=t.getColSpan(o.elm)-1;return l}(n,c),u=o(n,l,c).parentNode,f=[];return e.each(d,function(e,o){null!==(s?function(e,n,o,r){if(0!==n.above){t.setRowSpan(n.elm,n.above);var l=a(n,n.below+1);return i(e,l,o,r),l}return null}(n,e,o,c):function(e,n,o,r){if(0!==n.below){t.setRowSpan(n.elm,n.above+1);var l=a(n,n.below);return i(e,l,o,r+1),l}return null}(n,e,o,c))&&f.push(f)}),{cells:f,row:u}}}}),o("tinymce/tableplugin/ResizeBars",["tinymce/util/Tools","tinymce/util/VK"],function(e,n){var o;return function(r){var l,a,i,c,s,d,u="mce-resize-bar",f="mce-resize-bar-row",m="row-resize",g="data-row",p="data-initial-top",b="mce-resize-bar-col",h="col-resize",v="data-col",y="data-initial-left",w=4,x=10,C=10,S="mce-resize-bar-dragging",A=new RegExp(/(\d+(\.\d+)?%)/),T=new RegExp(/px|em/);function R(e,t){return{index:e,y:r.dom.getPos(t).y}}function P(e,t){return{index:e,y:r.dom.getPos(t).y+t.offsetHeight}}function N(e,t){return{index:e,x:r.dom.getPos(t).x}}function B(e,t){return{index:e,x:r.dom.getPos(t).x+t.offsetWidth}}function k(){return"rtl"===r.getBody().dir}function I(){return function(){return r.inline}?r.getBody().ownerDocument.body:r.getBody()}function _(e,t){return k()?B(e,t):N(e,t)}function M(e,t){return k()?N(e,t):B(e,t)}function D(e,t){var n=r.dom.getStyle(e,t,!0);return parseInt(n,10)}function E(e){return D(e,"width")/D(e.parentElement,"width")*100}function z(e,t,n){for(var o=[],r=1;r<n.length;r++){var l=n[r].element;o.push(e(r-1,l))}var a=n[n.length-1];return o.push(t(n.length-1,a.element)),o}function L(){var t=r.dom.select("."+u,I());e.each(t,function(e){r.dom.remove(e)})}function W(e){L(),q(e)}function H(e,t,n,o,r,l,a,i){var c={"data-mce-bogus":"all",class:u+" "+e,unselectable:"on","data-mce-resize":!1,style:"cursor: "+t+"; margin: 0; padding: 0; position: absolute; left: "+n+"px; top: "+o+"px; height: "+r+"px; width: "+l+"px; "};return c[a]=i,c}function O(t){return e.map(t.rows,function(t){return{element:t,cells:e.map(t.cells,function(e){return{element:e,rowspan:e.hasAttribute("rowspan")?parseInt(e.getAttribute("rowspan"),10):1,colspan:e.hasAttribute("colspan")?parseInt(e.getAttribute("colspan"),10):1}})}})}function j(n){function o(e,t){return e+","+t}var r={},l=[],a=0,i=0;return e.each(n,function(n,c){var s=[];e.each(n.cells,function(e){for(var n=0;r[o(c,n)]!==t;)n++;for(var l={element:e.element,colspan:e.colspan,rowspan:e.rowspan,rowIndex:c,colIndex:n},d=0;d<e.colspan;d++)for(var u=0;u<e.rowspan;u++){var f=c+u,m=n+d;r[o(f,m)]=l,a=Math.max(a,f+1),i=Math.max(i,m+1)}s.push(l)}),l.push({element:n.element,cells:s})}),{grid:{maxRows:a,maxCols:i},getAt:function(e,t){return r[o(e,t)]},getAllCells:function(){var t=[];return e.each(l,function(e){t=t.concat(e.cells)}),t},getAllRows:function(){return l}}}function $(e,t){for(var n=[],o=e;o<t;o++)n.push(o);return n}function U(e,t,n){for(var o,r=e(),l=0;l<r.length;l++)t(r[l])&&(o=r[l]);return o||n()}function V(t){var n=$(0,t.grid.maxCols),o=$(0,t.grid.maxRows);return e.map(n,function(e){return U(function(){for(var n=[],r=0;r<o.length;r++){var l=t.getAt(r,e);l&&l.colIndex===e&&n.push(l)}return n},function(e){return 1===e.colspan},function(){for(var n,r=0;r<o.length;r++)if(n=t.getAt(r,e))return n;return null})})}function G(t){var n=$(0,t.grid.maxCols),o=$(0,t.grid.maxRows);return e.map(o,function(e){return U(function(){for(var o=[],r=0;r<n.length;r++){var l=t.getAt(e,r);l&&l.rowIndex===e&&o.push(l)}return o},function(e){return 1===e.rowspan},function(){return t.getAt(e,0)})})}function q(t){var n=j(O(t)),o=G(n),l=V(n),a=r.dom.getPos(t),i=o.length>0?z(R,P,o):[],c=l.length>0?z(_,M,l):[];!function(t,n,o,l){e.each(t,function(e){var t=o.x,a=e.y-w/2,i=w,c=n;0==r.settings.disable_resize&&"false"!=l&&r.dom.add(I(),"div",H(f,m,t,a,i,c,g,e.index))})}(i,t.offsetWidth,a,t.contentEditable),function(t,n,o,l){e.each(t,function(e){var t=e.x-w/2,a=o.y,i=n,c=w;0==r.settings.disable_resize&&"false"!=l&&r.dom.add(I(),"div",H(b,h,t,a,i,c,v,e.index))})}(c,t.offsetHeight,a,t.contentEditable)}function K(e,t,n,o){if(t<0||t>=e.length-1)return"";var r=e[t];if(r)r={value:r,delta:0};else for(var l=e.slice(0,t).reverse(),a=0;a<l.length;a++)l[a]&&(r={value:l[a],delta:a+1});var i=e[t+1];if(i)i={value:i,delta:1};else for(var c=e.slice(t+1),s=0;s<c.length;s++)c[s]&&(i={value:c[s],delta:s+1});var d=i.delta-r.delta,u=Math.abs(i.value-r.value)/d;return n?u/D(o,"width")*100:u}function X(e,t){var n=r.dom.getStyle(e,t);return n||(n=r.dom.getAttrib(e,t)),n||(n=r.dom.getStyle(e,t,!0)),n}function Y(e,t,n){var o=X(e,"width"),r=parseInt(o,10),l=t?function(e,t){return D(e,"width")/D(t,"width")*100}(e,n):D(e,"width");return(t&&!oe(o)||!t&&!re(o))&&(r=0),!isNaN(r)&&r>0?r:l}function J(t,n,o){for(var r=V(t),l=e.map(r,function(e){return _(e.colIndex,e.element).x}),a=[],i=0;i<r.length;i++){var c=(r[i].element.hasAttribute("colspan")?parseInt(r[i].element.getAttribute("colspan"),10):1)>1?K(l,i):Y(r[i].element,n,o);c=c||x,a.push(c)}return a}function F(t){for(var n,o,r,l=G(t),a=e.map(l,function(e){return R(e.rowIndex,e.element).y}),i=[],c=0;c<l.length;c++){var s=(l[c].element.hasAttribute("rowspan")?parseInt(l[c].element.getAttribute("rowspan"),10):1)>1?K(a,c):(n=l[c].element,void 0,r=void 0,o=X(n,"height"),r=parseInt(o,10),oe(o)&&(r=0),!isNaN(r)&&r>0?r:D(n,"height"));s=s||C,i.push(s)}return i}function Q(t,n,o,r,l){var a=t.slice(0);function i(t){return e.map(t,function(){return 0})}function c(e,t){var n,l=i(a.slice(0,e)),c=i(a.slice(t+1));if(o>=0){var s=Math.max(r,a[t]-o);n=l.concat([o,s-a[t]]).concat(c)}else{var d=Math.max(r,a[e]+o),u=a[e]-d;n=l.concat([d-a[e],u]).concat(c)}return n}return 0===t.length?[]:1===t.length?l?[100-a[0]]:[Math.max(r,a[0]+o)-a[0]]:0===n?c(0,1):n>0&&n<t.length-1?c(n,n+1):n===t.length-1?function(e,t){var n,l=i(a.slice(0,t));if(o>=0)n=l.concat([o]);else{var c=Math.max(r,a[t]+o);n=l.concat([c-a[t]])}return n}(0,n):[]}function Z(e,t,n){for(var o=0,r=e;r<t;r++)o+=n[r];return o}function ee(t,n){var o=t.getAllCells();return e.map(o,function(e){var t=Z(e.colIndex,e.colIndex+e.colspan,n);return{element:e.element,width:t,colspan:e.colspan}})}function te(t,n){var o=t.getAllCells();return e.map(o,function(e){var t=Z(e.rowIndex,e.rowIndex+e.rowspan,n);return{element:e.element,height:t,rowspan:e.rowspan}})}function ne(t,n){var o=t.getAllRows();return e.map(o,function(e,t){return{element:e.element,height:n[t]}})}function oe(e){return A.test(e)}function re(e){return T.test(e)}function le(t,n,o){var l=j(O(t));for(var a=oe(t.width)||oe(t.style.width),i=J(l,a,t),c=a?function(e,t){return t/D(e,"width")*100}(t,n):n,s=Q(i,o,c,x,a),d=[],u=0;u<s.length;u++)d.push(s[u]+i[u]);var f=ee(l,d),m=a?"%":"px",g=a?o<l.grid.maxCols-1?E(t):E(t)+function(e,t){return t/D(e.parentElement,"width")*100}(t,n):o<l.grid.maxCols-1?D(t,"width"):D(t,"width")+n;r.undoManager.transact(function(){!function(t,n){e.each(t,function(e){r.dom.setStyle(e.element,"width",e.width+n),r.dom.setAttrib(e.element,"width",null)})}(f,m),function(e,n,a){e+=1,o!=l.grid.maxCols-1&&a||(r.dom.setStyle(t,"width",e+n),r.dom.setAttrib(t,"width",null))}(g,m,a)})}function ae(t,n,o){for(var l=j(O(t)),a=F(l),i=[],c=0,s=0;s<a.length;s++)i.push(s===o?n+a[s]:a[s]),c+=c[s];var d=te(l,i),u=ne(l,i);r.undoManager.transact(function(){e.each(u,function(e){r.dom.setStyle(e.element,"height",e.height+"px"),r.dom.setAttrib(e.element,"height",null)}),e.each(d,function(e){r.dom.setStyle(e.element,"height",e.height+"px"),r.dom.setAttrib(e.element,"height",null)}),r.dom.setStyle(t,"height",c+"px"),r.dom.setAttrib(t,"height",null)})}function ie(e,t){r.dom.bind(e,"mouseup",function(){ce()}),r.dom.bind(e,"mousemove",function(e){clearTimeout(l),a&&t(e)}),r.dom.bind(e,"mouseout",function(){l=setTimeout(function(){ce()},200)})}function ce(){if(r.dom.remove(i),a){var e,t;if(r.dom.removeClass(c,S),a=!1,de(c)){var n=parseInt(r.dom.getAttrib(c,y),10),l=r.dom.getPos(c).x;e=parseInt(r.dom.getAttrib(c,v),10),t=k()?n-l:l-n,Math.abs(t)>=1&&le(o,t,e)}else if(ue(c)){var s=parseInt(r.dom.getAttrib(c,p),10),d=r.dom.getPos(c).y;e=parseInt(r.dom.getAttrib(c,g),10),t=d-s,Math.abs(t)>=1&&ae(o,t,e)}W(o),r.nodeChanged()}}function se(e,t){var n;i=i||((n=document.createElement("div")).setAttribute("style","margin: 0; padding: 0; position: fixed; left: 0px; top: 0px; height: 100%; width: 100%;"),n.setAttribute("data-mce-bogus","all"),n),a=!0,r.dom.addClass(e,S),c=e,ie(i,t),r.dom.add(I(),i)}function de(e){return r.dom.hasClass(e,b)}function ue(e){return r.dom.hasClass(e,f)}function fe(e){s=s!==t?s:e.clientX;var n=e.clientX-s;s=e.clientX;var o=r.dom.getPos(c).x;r.dom.setStyle(c,"left",o+n+"px")}function me(e){d=d!==t?d:e.clientY;var n=e.clientY-d;d=e.clientY;var o=r.dom.getPos(c).y;r.dom.setStyle(c,"top",o+n+"px")}function ge(e){var n=e.target,l=r.getBody();if(r.$.contains(l,o)||o===l)if(de(n)){e.preventDefault();var a=r.dom.getPos(n).x;r.dom.setAttrib(n,y,a),s=t,se(n,fe)}else if(ue(n)){e.preventDefault();var i=r.dom.getPos(n).y;r.dom.setAttrib(n,p,i),function(e){d=t,se(e,me)}(n)}else L()}return r.on("init",function(){r.dom.bind(I(),"mousedown",ge)}),r.on("ObjectResized",function(t){var n=t.target;if("TABLE"===n.nodeName){var o=[];e.each(n.rows,function(t){e.each(t.cells,function(e){var t=r.dom.getStyle(e,"width",!0);o.push({cell:e,width:t})})}),e.each(o,function(e){r.dom.setStyle(e.cell,"width",e.width),r.dom.setAttrib(e.cell,"width",null)})}}),r.on("mouseover",function(e){if(!a){var t=r.dom.getParent(e.target,"table");("TABLE"===e.target.nodeName||t)&&(o=t,W(t))}}),r.on("keydown",function(e){switch(e.keyCode){case n.LEFT:case n.RIGHT:case n.UP:case n.DOWN:L()}}),r.on("remove",function(){L(),r.dom.unbind(I(),"mousedown",ge)}),{adjustWidth:le,adjustHeight:ae,clearBars:L,drawBars:q,determineDeltas:Q,getTableGrid:j,getTableDetails:O,getWidths:J,getPixelHeights:F,isPercentageBasedSize:oe,isPixelBasedSize:re,recalculateWidths:ee,recalculateCellHeights:te,recalculateRowHeights:ne,getComputedStyleSize:D}}}),o("tinymce/tableplugin/TableGrid",["tinymce/util/Tools","tinymce/Env","tinymce/tableplugin/Utils","tinymce/tableplugin/ResizeBars","tinymce/tableplugin/SplitCols"],function(e,n,o,r,l){var a,i=e.each,c=o.getSpanVal,s=o.setSpanVal;return function(d,u,f){var m,g,p,b,h,v,y=d.selection,w=y.dom;function x(){d.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected")}function C(e){return e===d.getBody()}function S(t,n){return t?(n=e.map(n.split(","),function(e){return e.toLowerCase()}),e.grep(t.childNodes,function(t){return-1!==e.inArray(n,t.nodeName.toLowerCase())})):[]}function A(){var e=0;m=[],g=0,i(["thead","tbody","tfoot"],function(t){var n=S(S(u,t)[0],"tr");i(n,function(n,o){o+=e,i(S(n,"td,th"),function(e,n){var r,l,a,i;if(m[o])for(;m[o][n];)n++;for(a=c(e,"rowspan"),i=c(e,"colspan"),l=o;l<o+a;l++)for(m[l]||(m[l]=[]),r=n;r<n+i;r++)m[l][r]={part:t,real:l==o&&r==n,elm:e,rowspan:a,colspan:i};g=Math.max(g,n+1)})}),e+=n.length})}function T(e){return d.fire("newrow",{node:e}),e}function R(e){return d.fire("newcell",{node:e}),e}function P(e,t){return(e=e.cloneNode(t)).removeAttribute("id"),e}function N(e,t){var n;if(n=m[t])return n[e]}function B(e,t){return e[t]?e[t]:null}function k(e,t){for(var n=[],o=0;o<e.length;o++)n.push(N(t,o));return n}function I(e){return e&&(!!w.getAttrib(e.elm,"data-mce-selected")||e==f)}function _(){var e=[];return i(u.rows,function(t){i(t.cells,function(n){if(w.getAttrib(n,"data-mce-selected")||f&&n==f.elm)return e.push(t),!1})}),e}function M(t){var r,l={};return!1!==d.settings.table_clone_elements&&(l=e.makeMap((d.settings.table_clone_elements||"strong em b i span font h1 h2 h3 h4 h5 h6 p div").toUpperCase(),/[ ,]/)),e.walk(t,function(e){var o;if(3==e.nodeType)return i(w.getParents(e.parentNode,null,t).reverse(),function(e){l[e.nodeName]&&(e=P(e,!1),r?o&&o.appendChild(e):r=o=e,o=e)}),o&&(o.innerHTML=n.ie&&n.ie<11?"&nbsp;":'<br data-mce-bogus="1" />'),!1},"childNodes"),R(t=P(t,!1)),s(t,"rowSpan",1),s(t,"colSpan",1),(r=null)?t.appendChild(r):o.paddCell(t),t}function D(){var e,t=w.createRng();if(i(w.select("tr",u),function(e){0===e.cells.length&&w.remove(e)}),0===w.select("tr",u).length)return t.setStartBefore(u),t.setEndBefore(u),y.setRng(t),void w.remove(u);i(w.select("thead,tbody,tfoot",u),function(e){0===e.rows.length&&w.remove(e)}),A(),p&&(e=m[Math.min(m.length-1,p.y)])&&(y.select(e[Math.min(e.length-1,p.x)].elm,!0),y.collapse(!0))}function E(e,t,n,o){var r,l,a,i,c;for(r=m[t][e].elm.parentNode,a=1;a<=n;a++)if(r=w.getNext(r,"tr")){for(l=e;l>=0;l--)if((c=m[t+a][l].elm).parentNode==r){for(i=1;i<=o;i++)w.insertAfter(M(c),c);break}if(-1==l)for(i=1;i<=o;i++)r.insertBefore(M(r.cells[0]),r.cells[0])}}function z(){i(m,function(e,t){i(e,function(e,n){var o,r,l;if(I(e)&&(e=e.elm,o=c(e,"colspan"),r=c(e,"rowspan"),o>1||r>1)){s(e,"rowSpan",1),s(e,"colSpan",1);var a=d.dom.getStyle(e,"width"),i=parseInt(a,10);for(d.dom.setStyle(e,"width",i/o+"px"),l=0;l<o-1;l++)w.insertAfter(M(e),e);E(n,t,r-1,o)}})}),a.adjustWidth(u,0,0)}function L(e,t,n){for(var o=[],r=0;r<e.length;r++)(r<t||r>n)&&o.push(e[r]);return o}function W(t){return e.grep(t,function(e){return!1===e.real})}function H(e){for(var t=[],n=0;n<e.length;n++){var o=e[n].elm;t[t.length-1]!==o&&t.push(o)}return t}function O(e){var n,o,r,l,a,d,u,f,g,p;if(i(m,function(o,r){if(i(o,function(t){if(I(t)&&(t=t.elm,a=t.parentNode,d=T(P(a,!1)),n=r,e))return!1}),e)return n===t}),n!==t){for(l=0,p=0;l<m[0].length;l+=p)if(m[n][l]&&(o=m[n][l].elm,p=c(o,"colspan"),o!=r)){if(e){if(n>0&&m[n-1][l]&&(f=m[n-1][l].elm,(g=c(f,"rowSpan"))>1)){s(f,"rowSpan",g+1);continue}}else if((g=c(o,"rowspan"))>1){s(o,"rowSpan",g+1);continue}u=M(o),s(u,"colSpan",o.colSpan),d.appendChild(u),r=o}d.hasChildNodes()&&(e?a.parentNode.insertBefore(d,a):w.insertAfter(d,a))}}function j(e){var n,o;i(m,function(o){if(i(o,function(t,o){if(I(t)&&(n=o,e))return!1}),e)return n===t}),i(m,function(t,r){var l,a,i;if(t[n]&&(l=t[n].elm)!=o){if(i=c(l,"colspan"),a=c(l,"rowspan"),1==i)if(e){d=M(l);l.parentNode.insertBefore(d,l),E(n,r,a-1,i)}else{var d=M(l);w.insertAfter(d,l),E(n,r,a-1,i)}else s(l,"colSpan",l.colSpan+1);o=l}});for(var r=0;r<u.rows.length;r++)if(0==r)for(var l=0;l<u.rows[r].cells.length;l++){var f=a.getComputedStyleSize(u.rows[r].cells[l],"width");d.dom.setStyle(u.rows[r].cells[l],"width",f)}else for(l=0;l<u.rows[r].cells.length;l++)d.dom.setStyle(u.rows[r].cells[l],"width",0);a.adjustWidth(u,0,0)}function $(e){var t=[];return i(e,function(e){i(e,function(e){t.push(e)})}),t}function U(e){var t;return i(m,function(n,o){return i(n,function(n,r){if(n.elm==e)return t={x:r,y:o},!1}),!t}),t}!d.settings.object_resizing||!1===d.settings.table_resize_bars||!0!==d.settings.object_resizing&&"table"!==d.settings.object_resizing||(a=r(d)),u=u||w.getParent(y.getStart(!0),"table"),A(),(f=f||w.getParent(y.getStart(!0),"th,td"))&&(p=U(f),h=v=0,i(m,function(e,t){i(e,function(e,n){var o,r;I(e)&&(e=m[t][n],n>h&&(h=n),t>v&&(v=t),e.real&&(o=e.colspan-1,r=e.rowspan-1,o&&n+o>h&&(h=n+o),r&&t+r>v&&(v=t+r)))})}),b={x:h,y:v},f=N(p.x,p.y)),e.extend(this,{deleteTable:function(){var e=w.createRng();C(u)||(e.setStartAfter(u),e.setEndAfter(u),y.setRng(e),w.remove(u))},split:z,merge:function(t,n,r){var l,c,d,f,h,v,y,x,C,S,T,R,P;if(t?(f=(c=(l=U(t)).x)+(n-1),h=(d=l.y)+(r-1)):(p=b=null,i(m,function(e,t){i(e,function(e,n){I(e)&&(p||(p={x:n,y:t}),b={x:n,y:t})})}),p&&(c=p.x,d=p.y,f=b.x,h=b.y)),x=N(c,d),C=N(f,h),x&&C&&x.part==C.part){z(),A(),R=function(t,n,r,l,a){var i=0;if(a-r<1)return 0;for(var c=r+1;c<=a;c++){var s=L(B(t,c),n,l),d=W(s);s.length===d.length&&(e.each(H(d),function(e){o.setRowSpan(e,o.getRowSpan(e)-1)}),i++)}return i}(m,c,d,f,h),P=function(t,n,r,l,a){var i=0;if(l-n<1)return 0;for(var c=n+1;c<=l;c++){var s=L(k(t,c),r,a),d=W(s);s.length===d.length&&(e.each(H(d),function(e){o.setColSpan(e,o.getColSpan(e)-1)}),i++)}return i}(m,c,d,f,h),x=N(c,d).elm;var _=f-c-P+1,M=h-d-R+1;for(_===g&&M===m.length&&(_=1,M=1),_===g&&M>1&&(M=1),s(x,"colSpan",_),s(x,"rowSpan",M),y=d;y<=h;y++)for(v=c;v<=f;v++)m[y]&&m[y][v]&&(t=m[y][v].elm)!=x&&(S=e.grep(t.childNodes),i(S,function(e){x.appendChild(e)}),S.length&&(S=e.grep(x.childNodes),T=0,i(S,function(e){"BR"==e.nodeName&&T++<S.length-1&&x.removeChild(e)})),w.remove(t));D(),a.adjustWidth(u,0,0)}},insertRow:O,insertRows:function(e,t){t=t||_().length||1;for(var n=0;n<t;n++)O(e)},insertCol:j,insertCols:function(e,t){var n;t=t||(n=0,i(m,function(e){if(i(e,function(e){I(e)&&n++}),n)return!1}),n)||1;for(var o=0;o<t;o++)j(e)},splitCols:function(t){if(p){var n=l.splitAt(m,p.x,p.y,t);e.each(n.cells,R)}},deleteCols:function(){var t=[];if(C(u)){if(1==m[0].length)return;if(function(t){return e.grep($(t),I)}(m).length==$(m).length)return}i(m,function(n){i(n,function(n,o){I(n)&&-1===e.inArray(t,o)&&(i(m,function(e){var t,n=e[o].elm;(t=c(n,"colSpan"))>1?s(n,"colSpan",t-1):w.remove(n)}),t.push(o)),d.dom.setStyle(n.elm,"width","")})}),D(),a.adjustWidth(u,0,0)},deleteRows:function(){var e;e=_(),C(u)&&e.length==u.rows.length||(i(e.reverse(),function(e){!function(e){var t,n;i(e.cells,function(e){var n=c(e,"rowSpan");n>1&&(s(e,"rowSpan",n-1),E((t=U(e)).x,t.y,1,1))}),t=U(e.cells[0]),i(m[t.y],function(e){var t;(e=e.elm)!=n&&((t=c(e,"rowSpan"))<=1?w.remove(e):s(e,"rowSpan",t-1),n=e)})}(e)}),D())},cutRows:function(){var e=_();if(!C(u)||e.length!=u.rows.length)return w.remove(e),D(),e},copyRows:function(){var e=_();return i(e,function(t,n){e[n]=P(t,!0)}),e},pasteRows:function(t,n){var o,r,a;t&&(o=l.splitAt(m,p.x,p.y,n),r=o.row,e.each(o.cells,R),a=e.map(t,function(e){return e.cloneNode(!0)}),n||a.reverse(),i(a,function(e){var t,o,l=e.cells.length;for(T(e),t=0;t<l;t++)R(o=e.cells[t]),s(o,"colSpan",1),s(o,"rowSpan",1);for(t=l;t<g;t++)e.appendChild(R(M(e.cells[l-1])));for(t=g;t<l;t++)w.remove(e.cells[t]);n?r.parentNode.insertBefore(e,r):w.insertAfter(e,r)}),x())},getPos:U,setStartCell:function(e){p=U(e)},setEndCell:function(e){var t,n,o,r,l,a,i,c,s,d;if(b=U(e),p&&b){for(t=Math.min(p.x,b.x),n=Math.min(p.y,b.y),l=o=Math.max(p.x,b.x),a=r=Math.max(p.y,b.y),d=n;d<=r;d++)for(s=t;s<=o;s++)(e=m[d][s]).real&&((i=e.colspan-1)&&s+i>l&&(l=s+i),(c=e.rowspan-1)&&d+c>a&&(a=d+c));for(x(),d=n;d<=a;d++)for(s=t;s<=l;s++)m[d][s]&&w.setAttrib(m[d][s].elm,"data-mce-selected","1")}},moveRelIdx:function(e,t){var n,o,r;o=(n=U(e)).y*g+n.x;do{if(!(r=N((o+=t)%g,Math.floor(o/g))))break;if(r.elm!=e)return y.select(r.elm,!0),w.isEmpty(r.elm)&&y.collapse(!0),!0}while(r.elm==e);return!1},refresh:A})}}),o("tinymce/tableplugin/Quirks",["tinymce/util/VK","tinymce/util/Delay","tinymce/Env","tinymce/util/Tools","tinymce/tableplugin/Utils"],function(e,t,n,o,r){var l=o.each,a=r.getSpanVal;return function(i){function c(){i.on("KeyDown",function(e){var t,n,o=i.dom;37!=e.keyCode&&38!=e.keyCode||(t=i.selection.getRng(),(n=o.getParent(t.startContainer,"table"))&&i.getBody().firstChild==n&&function(e,t){var n,o=t.ownerDocument,r=o.createRange();return r.setStartBefore(t),r.setEnd(e.endContainer,e.endOffset),(n=o.createElement("body")).appendChild(r.cloneContents()),0===n.innerHTML.replace(/<(br|img|object|embed|input|textarea)[^>]*>/gi,"-").replace(/<[^>]+>/g,"").length}(t,n)&&((t=o.createRng()).setStartBefore(n),t.setEndBefore(n),i.selection.setRng(t),e.preventDefault()))})}function s(){i.on("KeyDown SetContent VisualAid",function(){var e;for(e=i.getBody().lastChild;e;e=e.previousSibling)if(3==e.nodeType){if(e.nodeValue.length>0)break}else if(1==e.nodeType&&("BR"==e.tagName||!e.getAttribute("data-mce-bogus")))break;e&&"TABLE"==e.nodeName&&(i.settings.forced_root_block?i.dom.add(i.getBody(),i.settings.forced_root_block,i.settings.forced_root_block_attrs,n.ie&&n.ie<11?"&nbsp;":'<br data-mce-bogus="1" />'):i.dom.add(i.getBody(),"br",{"data-mce-bogus":"1"}))}),i.on("PreProcess",function(e){var t=e.node.lastChild;t&&("BR"==t.nodeName||1==t.childNodes.length&&("BR"==t.firstChild.nodeName||" "==t.firstChild.nodeValue))&&t.previousSibling&&"TABLE"==t.previousSibling.nodeName&&i.dom.remove(t)})}var d,u,f,m,g,p;!function(){function t(e){i.selection.select(e,!0),i.selection.collapse(!0)}function n(e){i.$(e).empty(),r.paddCell(e)}i.on("keydown",function(r){var l,a,c,s;if((r.keyCode==e.DELETE||r.keyCode==e.BACKSPACE)&&!r.isDefaultPrevented()&&(l=i.dom.getParent(i.selection.getStart(),"table"))){if(a=i.dom.select("td,th",l),0===(c=o.grep(a,function(e){return!!i.dom.getAttrib(e,"data-mce-selected")})).length)return s=i.dom.getParent(i.selection.getStart(),"td,th"),void(i.selection.isCollapsed()&&s&&i.dom.isEmpty(s)&&(r.preventDefault(),n(s),t(s)));r.preventDefault(),i.undoManager.transact(function(){a.length==c.length?i.execCommand("mceTableDelete"):(o.each(c,n),t(c[0]))})}})}(),d=function(e,t){var n=i.selection.getRng(),o=e.ownerDocument.createTextNode(" ");n.startOffset?e.insertBefore(o,e.firstChild):e.appendChild(o),t&&(i.selection.select(o,!0),i.selection.collapse(!0))},u=function(e){return e.firstChild===e.lastChild&&e.firstChild},f=function(e){return e&&3===e.nodeType},m=function(e){var t=u(e);return f(t)&&1===t.data.length?t.data:null},g=function(e){return i.dom.isEmpty(e)||p(m(e))},p=function(e){return" "===e},i.on("keydown",function(t){if(function(t){return(t.keyCode==e.DELETE||t.keyCode==e.BACKSPACE)&&!t.isDefaultPrevented()}(t)){var o,r=i.dom.getParent(i.selection.getStart(),"caption");(o=r)&&"CAPTION"==o.nodeName&&"TABLE"==o.parentNode.nodeName&&(n.ie&&(i.selection.isCollapsed()?function(e){var t=u(e),n=m(e);return t&&!f(t)||n&&!p(n)}(r)&&d(r):(i.undoManager.transact(function(){i.execCommand("Delete"),g(r)&&d(r,!0)}),t.preventDefault())),g(r)&&t.preventDefault())}}),n.webkit&&(function(){function n(n){var o=n.keyCode;function r(e,t){var o=e?"previousSibling":"nextSibling",l=i.dom.getParent(t,"tr"),a=l[o];if(a)return d(0,t,a,e),n.preventDefault(),!0;var u=i.dom.getParent(l,"table"),f=l.parentNode,m=f.nodeName.toLowerCase();if("tbody"===m||m===(e?"tfoot":"thead")){var g=function(e,t,n,o){var r=i.dom.select(">"+o,t),l=r.indexOf(n);if(e&&0===l||!e&&l===r.length-1)return function(e,t){var n=e?"thead":"tfoot",o=i.dom.select(">"+n,t);return 0!==o.length?o[0]:null}(e,t);if(-1===l){var a="thead"===n.tagName.toLowerCase()?0:r.length-1;return r[a]}return r[l+(e?-1:1)]}(e,u,f,"tbody");if(null!==g)return function(e,t,o){var r=c(t,e);return r&&d(0,o,r,e),n.preventDefault(),!0}(e,g,t)}return function(e,t,o,l){var a=l[o];if(a)return s(a),!0;var d=i.dom.getParent(l,"td,th");return d?r(e,d):(s(c(t,!e)),n.preventDefault(),!1)}(e,l,o,u)}function c(e,t){var n=e&&e[t?"lastChild":"firstChild"];return n&&"BR"===n.nodeName?i.dom.getParent(n,"td,th"):n}function s(e){i.selection.setCursorLocation(e,0)}function d(e,t,n,o){var r=function(e,t){var n=0,o=0;return l(e.children,function(e,r){if(n+=a(e,"colspan"),o=r,n>t)return!1}),o}(n,function(e){for(var t=0,n=e;n.previousSibling;)n=n.previousSibling,t+=a(n,"colspan");return t}(i.dom.getParent(t,"td,th"))),d=n.childNodes[r];s(c(d,o)||d)}function u(e){var t,n,o=i.selection.getNode(),r=i.dom.getParent(o,"td,th"),l=i.dom.getParent(e,"td,th");return r&&r!==l&&(t=r,n=l,i.dom.getParent(t,"TABLE")===i.dom.getParent(n,"TABLE"))}if((o==e.UP||o==e.DOWN)&&function(e){var t=e.selection.getNode();return null!==e.dom.getParent(t,"tr")}(i)){var f=i.selection.getNode();t.setEditorTimeout(i,function(){u(f)&&r(!n.shiftKey&&o===e.UP,f)},0)}}i.on("KeyDown",function(e){n(e)})}(),function(){function e(){var e=i.selection.getRng(),t=i.selection.getNode(),n=i.dom.getParent(e.startContainer,"TD,TH");if(function(e,t,n,o){var r,l,a,i=e.dom.getParent(t.startContainer,"TABLE");return i&&(r=i.parentNode),l=3==t.startContainer.nodeType&&0===t.startOffset&&0===t.endOffset&&o&&("TR"==n.nodeName||n==r),a=("TD"==n.nodeName||"TH"==n.nodeName)&&!o,l||a}(i,e,t,n)){n||(n=t);for(var o=n.lastChild;o.lastChild;)o=o.lastChild;3==o.nodeType&&(e.setEnd(o,o.data.length),i.selection.setRng(e))}}i.on("KeyDown",function(){e()}),i.on("MouseDown",function(t){2!=t.button&&e()})}()),n.gecko&&(c(),s()),n.ie>10&&(c(),s())}}),o("tinymce/tableplugin/CellSelection",["tinymce/tableplugin/TableGrid","tinymce/dom/TreeWalker","tinymce/util/Tools"],function(e,t,n){return function(o,r){var l,a,i,c,s,d,u=o.dom,f=!0;function m(e){o.getBody().style.webkitUserSelect="",(e||f)&&(o.$("td[data-mce-selected],th[data-mce-selected]").removeAttr("data-mce-selected"),f=!1)}var g=function(){a=l=i=c=null,r(!1)};function p(e,t){return!(!e||!t)&&e===u.getParent(t,"table")}function b(t){var n,m,g=t.target;if(!s&&!d&&g!==c&&(c=g,i&&a)){if(m=u.getParent(g,"td,th"),p(i,m)||(m=u.getParent(i,"td,th")),a===m&&!f)return;if(r(!0),p(i,m)){t.preventDefault(),l||(l=new e(o,i,a),o.getBody().style.webkitUserSelect="none"),l.setEndCell(m),f=!0,n=o.selection.getSel();try{n.removeAllRanges?n.removeAllRanges():n.empty()}catch(e){}}}}return o.on("SelectionChange",function(e){f&&e.stopImmediatePropagation()},!0),o.on("MouseDown",function(e){2==e.button||s||d||(m(),a=u.getParent(e.target,"td,th"),i=u.getParent(a,"table"))}),o.on("mouseover",b),o.on("remove",function(){u.unbind(o.getDoc(),"mouseover",b),m()}),o.on("MouseUp",function(){var e,r,i,c,s,d=o.selection;function f(o,r){var l=new t(o,o);do{if(3==o.nodeType&&0!==n.trim(o.nodeValue).length)return void(r?e.setStart(o,0):e.setEnd(o,o.nodeValue.length));if("BR"==o.nodeName)return void(r?e.setStartBefore(o):e.setEndBefore(o))}while(o=r?l.next():l.prev())}if(a){if(l&&(o.getBody().style.webkitUserSelect=""),(r=u.select("td[data-mce-selected],th[data-mce-selected]")).length>0){e=u.createRng(),c=r[0],e.setStartBefore(c),e.setEndAfter(c),f(c,1),i=new t(c,u.getParent(r[0],"table"));do{if("TD"==c.nodeName||"TH"==c.nodeName){if(!u.getAttrib(c,"data-mce-selected"))break;s=c}}while(c=i.next());f(s),d.setRng(e)}o.nodeChanged(),g()}}),o.on("KeyUp Drop SetContent",function(e){m("setcontent"==e.type),g(),s=!1}),o.on("ObjectResizeStart ObjectResized",function(e){s="objectresized"!=e.type}),o.on("dragstart",function(){d=!0}),o.on("drop dragend",function(){d=!1}),{clear:m}}}),o("tinymce/tableplugin/Dialogs",["tinymce/util/Tools","tinymce/Env"],function(e,n){var o=e.each;return function(r){var l=this;function a(){var e=r.settings.color_picker_callback;if(e)return function(){var t=this;e.call(r,function(e){t.value(e).fire("change")},t.value())}}function i(e){return{title:"Advanced",type:"form",defaults:{onchange:function(){f(e,this.parents().reverse()[0],"style"==this.name())}},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border color",type:"colorbox",name:"borderColor",onaction:a()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:a()}]}]}}function c(e){return e?e.replace(/px$/,""):""}function s(e){return/^[0-9]+$/.test(e)&&(e+="px"),e}function d(e){o("left center right".split(" "),function(t){r.formatter.remove("align"+t,{},e)})}function u(t,n,o){return function t(o,r){return r=r||[],e.each(o,function(e){var o={text:e.text||e.title};e.menu?o.menu=t(e.menu):(o.value=e.value,n&&n(o)),r.push(o)}),r}(t,o||[])}function f(e,t,n){var o=t.toJSON(),r=e.parseStyle(o.style);n?(t.find("#borderColor").value(r["border-color"]||"")[0].fire("change"),t.find("#backgroundColor").value(r["background-color"]||"")[0].fire("change")):(r["border-color"]=o.borderColor,r["background-color"]=o.backgroundColor),t.find("#style").value(e.serializeStyle(e.parseStyle(e.serializeStyle(r))))}function m(e,t,n){var o=e.parseStyle(e.getAttrib(n,"style")),r=n.style.borderColor;r&&"initial"!=r&&(t.borderColor=r),""==r&&(o["border-color"]=""),o["background-color"]&&(t.backgroundColor=o["background-color"]),t.style=e.serializeStyle(o)}l.tableProps=function(){l.table(!0)},l.table=function(l){var a,g,p,b,h,v,y=r.dom,w={};function x(){function l(e,t,n){if("TD"===e.tagName||"TH"===e.tagName)y.setStyle(e,t,n);else if(e.children)for(var o=0;o<e.children.length;o++)l(e.children[o],t,n)}var i;f(y,this),!1===(w=e.extend(w,this.toJSON())).class&&delete w.class,r.undoManager.transact(function(){if(a||(a=r.plugins.table.insertTable(w.cols||1,w.rows||1)),r.dom.setAttribs(a,{style:w.style,class:w.class}),r.settings.table_style_by_css){if((v=[]).push({name:"border",value:w.border}),v.push({name:"border-spacing",value:s(w.cellspacing)}),function(e,t,n){var r=e.parseStyle(e.getAttrib(t,"style"));o(n,function(e){r[e.name]=e.value}),e.setAttrib(t,"style",e.serializeStyle(e.parseStyle(e.serializeStyle(r))))}(y,a,v),y.setAttribs(a,{"data-mce-border-color":w.borderColor,"data-mce-cell-padding":w.cellpadding,"data-mce-border":w.border}),a.children)for(var e=0;e<a.children.length;e++)l(a.children[e],"border",w.border),l(a.children[e],"padding",s(w.cellpadding))}else r.dom.setAttribs(a,{border:w.border,borderColor:w.borderColor,cellpadding:w.cellpadding,cellspacing:w.cellspacing});if(""!=w.border&&"0"!=w.border)var u="1px solid "+w.borderColor,f=w.border+"px solid "+w.borderColor;else u="",f="";$(a).css("border",f);for(var m=$(a).find("tr"),g=(e=0,m.length);e<g;e++)""!=w.border&&"0"!=w.border||m.eq(e).css("border-color","");var p=$(a).find("td");for(e=0,g=p.length;e<g;e++){var b=p.eq(e)[0].style.borderColor;if(""==w.border||"0"==w.border||-1==b.indexOf("#")&&-1==b.indexOf("rgb")){p.eq(e).css("border",u);var h=p.eq(e).attr("data-mce-style")==t?"":p.eq(e).attr("data-mce-style");"-1"!=h.indexOf("border")?h=h.replace(/border:.*;/,"border:"+u+";"):h+="border:"+u+";",p.eq(e).attr("data-mce-style",h)}}y.getAttrib(a,"width")&&!r.settings.table_style_by_css?y.setAttrib(a,"width",c(w.width)):y.setStyle(a,"width",s(w.width)),y.setStyle(a,"height",s(w.height)),(i=y.select("caption",a)[0])&&!w.caption&&y.remove(i),!i&&w.caption&&((i=y.create("caption")).innerHTML=n.ie?" ":'<br data-mce-bogus="1"/>',a.insertBefore(i,a.firstChild)),d(a),w.align&&r.formatter.apply("align"+w.align,{},a),r.focus(),r.addVisual()})}function C(e,t){var n;return n=function(e,n){for(var o=0;o<n.length;o++){var r=y.getStyle(n[o],t);if(void 0===e&&(e=r),e!=r)return""}return e}(n,r.dom.select("td,th",e))}!0===l?(a=y.getParent(r.selection.getStart(),"table"))&&(w={width:c(y.getStyle(a,"width")||y.getAttrib(a,"width")),height:c(y.getStyle(a,"height")||y.getAttrib(a,"height")),cellspacing:c(y.getStyle(a,"border-spacing")||y.getAttrib(a,"cellspacing")),cellpadding:y.getAttrib(a,"data-mce-cell-padding")||y.getAttrib(a,"cellpadding")||C(a,"padding"),border:y.getAttrib(a,"data-mce-border")||y.getAttrib(a,"border")||C(a,"border"),borderColor:y.getAttrib(a,"data-mce-border-color"),caption:!!y.select("caption",a)[0],class:y.getAttrib(a,"class")},o("left center right".split(" "),function(e){r.formatter.matchNode(a,"align"+e)&&(w.align=e)})):(g={label:"Cols",name:"cols"},p={label:"Rows",name:"rows"}),r.settings.table_class_list&&(w.class&&(w.class=w.class.replace(/\s*mce\-item\-table\s*/g,"")),b={name:"class",type:"listbox",label:"Class",values:u(r.settings.table_class_list,function(e){e.value&&(e.textStyle=function(){return r.formatter.getCssText({block:"table",classes:[e.value]})})})}),h={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:!1!==r.settings.table_appearance_options?[g,p,{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[g,p,{label:"Width",name:"width"},{label:"Height",name:"height"}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},b]},!1!==r.settings.table_advtab?(m(y,w,a),r.windowManager.open({title:"Table properties",data:w,bodyType:"tabpanel",body:[{title:"General",type:"form",items:h},i(y)],onsubmit:x})):r.windowManager.open({title:"Table properties",data:w,body:h,onsubmit:x})},l.merge=function(e,t){r.windowManager.open({title:"Merge cells",body:[{label:"Cols",name:"cols",type:"textbox",value:"1",size:10},{label:"Rows",name:"rows",type:"textbox",value:"1",size:10}],onsubmit:function(){var n=this.toJSON();r.undoManager.transact(function(){e.merge(t,n.cols,n.rows)})}})},l.cell=function(){var n,l,a,g=r.dom,p=[];function b(e,t,n){(1===p.length||n)&&g.setAttrib(e,t,n)}function h(e,t,n){(1===p.length||n)&&g.setStyle(e,t,n)}function v(){f(g,this),l=e.extend(l,this.toJSON()),r.undoManager.transact(function(){o(p,function(e){b(e,"scope",l.scope),b(e,"style",l.style),b(e,"class",l.class),h(e,"width",s(l.width)),h(e,"height",s(l.height));var n="1px solid "+l.borderColor;$(e).css("border",n);var a,i=$(e).attr("data-mce-style")==t?"":$(e).attr("data-mce-style");"-1"!=i.indexOf("border")?i=i.replace(/border:.*;/,"border:"+n+";"):i+="border:"+n+";",$(e).attr("data-mce-style",i),l.type&&e.nodeName.toLowerCase()!==l.type&&(e=g.rename(e,l.type)),1===p.length&&(d(e),a=e,o("top middle bottom".split(" "),function(e){r.formatter.remove("valign"+e,{},a)})),l.align&&r.formatter.apply("align"+l.align,{},e),l.valign&&r.formatter.apply("valign"+l.valign,{},e)}),r.focus()})}if(p=r.dom.select("td[data-mce-selected],th[data-mce-selected]"),n=r.dom.getParent(r.selection.getStart(),"td,th"),!p.length&&n&&p.push(n),n=n||p[0]){p.length>1?l={width:"",height:"",scope:"",class:"",align:"",style:"",type:n.nodeName.toLowerCase()}:((l={width:c(g.getStyle(n,"width")||g.getAttrib(n,"width")),height:c(g.getStyle(n,"height")||g.getAttrib(n,"height")),scope:g.getAttrib(n,"scope"),class:g.getAttrib(n,"class")}).type=n.nodeName.toLowerCase(),o("left center right".split(" "),function(e){r.formatter.matchNode(n,"align"+e)&&(l.align=e)}),o("top middle bottom".split(" "),function(e){r.formatter.matchNode(n,"valign"+e)&&(l.valign=e)}),m(g,l,n)),r.settings.table_cell_class_list&&(a={name:"class",type:"listbox",label:"Class",values:u(r.settings.table_cell_class_list,function(e){e.value&&(e.textStyle=function(){return r.formatter.getCssText({block:"td",classes:[e.value]})})})});var y={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width"},{label:"Height",name:"height"},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},a]};!1!==r.settings.table_cell_advtab?r.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:l,body:[{title:"General",type:"form",items:y},i(g)],onsubmit:v}):r.windowManager.open({title:"Cell properties",data:l,body:y,onsubmit:v})}},l.row=function(){var n,l,a,g,p,b,h=r.dom,v=[];function y(e,t,n){(1===v.length||n)&&h.setAttrib(e,t,n)}function w(){var n,l,a;f(h,this),p=e.extend(p,this.toJSON()),r.undoManager.transact(function(){var e=p.type;o(v,function(o){var i,c,u;y(o,"scope",p.scope),y(o,"style",p.style),y(o,"class",p.class),i=o,c="height",u=s(p.height),(1===v.length||u)&&h.setStyle(i,c,u);for(var f="1px solid "+p.borderColor,m=$(o).find("td"),g=0,b=m.length;g<b;g++){m.eq(g).css("border",f);var w=m.eq(g).attr("data-mce-style")==t?"":m.eq(g).attr("data-mce-style");"-1"!=w.indexOf("border")?w=w.replace(/border:.*;/,"border:"+f+";"):w+="border:"+f+";",m.eq(g).attr("data-mce-style",w)}e!==o.parentNode.nodeName.toLowerCase()&&(n=h.getParent(o,"table"),l=o.parentNode,(a=h.select(e,n)[0])||(a=h.create(e),n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a)),a.appendChild(o),l.hasChildNodes()||h.remove(l)),1===v.length&&d(o),p.align&&r.formatter.apply("align"+p.align,{},o)}),r.focus()})}n=r.dom.getParent(r.selection.getStart(),"table"),l=r.dom.getParent(r.selection.getStart(),"td,th"),o(n.rows,function(e){o(e.cells,function(t){if(h.getAttrib(t,"data-mce-selected")||t==l)return v.push(e),!1})}),(a=v[0])&&(v.length>1?p={height:"",scope:"",class:"",align:"",type:a.parentNode.nodeName.toLowerCase()}:((p={height:c(h.getStyle(a,"height")||h.getAttrib(a,"height")),scope:h.getAttrib(a,"scope"),class:h.getAttrib(a,"class")}).type=a.parentNode.nodeName.toLowerCase(),o("left center right".split(" "),function(e){r.formatter.matchNode(a,"align"+e)&&(p.align=e)}),m(h,p,a)),r.settings.table_row_class_list&&(g={name:"class",type:"listbox",label:"Class",values:u(r.settings.table_row_class_list,function(e){e.value&&(e.textStyle=function(){return r.formatter.getCssText({block:"tr",classes:[e.value]})})})}),b={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},g]},!1!==r.settings.table_row_advtab?r.windowManager.open({title:"Row properties",data:p,bodyType:"tabpanel",body:[{title:"General",type:"form",items:b},i(h)],onsubmit:w}):r.windowManager.open({title:"Row properties",data:p,body:b,onsubmit:w}))}}}),o("tinymce/tableplugin/Plugin",["tinymce/tableplugin/TableGrid","tinymce/tableplugin/Quirks","tinymce/tableplugin/CellSelection","tinymce/tableplugin/Dialogs","tinymce/tableplugin/ResizeBars","tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/Env","tinymce/PluginManager"],function(e,t,n,o,r,l,a,i,c){var s=l.each;c.add("table",function(l){var a,c,d=this,u=new o(l);function f(e){return function(){l.execCommand(e)}}function m(e,t){var n,o,r,a;for(r='<table id="__mce"><tbody>',n=0;n<t;n++){for(r+="<tr>",o=0;o<e;o++)r+="<td>"+(i.ie&&i.ie<11?"&nbsp;":"<br>")+"</td>";r+="</tr>"}return r+="</tbody></table>",l.undoManager.transact(function(){l.insertContent(r),a=l.dom.get("__mce"),l.dom.setAttrib(a,"id",null),l.$("tr",a).each(function(e,t){l.fire("newrow",{node:t}),l.$("th,td",t).each(function(e,t){l.fire("newcell",{node:t})})}),a&&(l.dom.setAttribs(a,l.settings.table_default_attributes||{}),l.dom.setStyles(a,l.settings.table_default_styles||{})),l.$("table",a).each(function(e,t){c.adjustWidth(t,0,0)})}),a}function g(e,t,n){function o(){var e,o,r={};(e=(o=l.dom.select("td[data-mce-selected],th[data-mce-selected]"))[0])||(e=l.selection.getStart()),n&&o.length>0?(s(o,function(e){return r[e.parentNode.parentNode.nodeName]=1}),s(r,function(e){e})):l.dom.getParent(e,t),l.selection.selectorChanged(t,function(e){})}l.initialized?o():l.on("init",o)}function p(){g(0,"table")}function b(){g(0,"td,th")}function h(e,t,n){var o,r,a,i,c,s=n.getEl().getElementsByTagName("table")[0],d=n.isRtl()||"tl-tr"==n.parent().rel;for(s.nextSibling.innerHTML=e+1+" x "+(t+1),d&&(e=9-e),r=0;r<10;r++)for(o=0;o<10;o++)i=s.rows[r].childNodes[o].firstChild,c=(d?o>=e:o<=e)&&r<=t,l.dom.toggleClass(i,"mce-active",c),c&&(a=i);return a.parentNode}!l.settings.object_resizing||!1===l.settings.table_resize_bars||!0!==l.settings.object_resizing&&"table"!==l.settings.object_resizing||(c=r(l)),!1===l.settings.table_grid?l.addMenuItem("inserttable",{text:"Table",icon:"table",context:"table",onclick:u.table}):l.addMenuItem("inserttable",{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),u.table())},onshow:function(){h(0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName("a");l.dom.removeClass(e,"mce-active"),l.dom.addClass(e[0],"mce-active")},menu:[{type:"container",html:function(){var e="";e='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var t=0;t<10;t++){e+="<tr>";for(var n=0;n<10;n++)e+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*t+n)+'" href="#" data-mce-x="'+n+'" data-mce-y="'+t+'"></a></td>';e+="</tr>"}return e+="</table>",e+='<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var t,n,o=e.target;"A"==o.tagName.toUpperCase()&&(t=parseInt(o.getAttribute("data-mce-x"),10),n=parseInt(o.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"==this.parent().rel)&&(t=9-t),t===this.lastX&&n===this.lastY||(h(t,n,e.control),this.lastX=t,this.lastY=n))},onclick:function(e){var t=this;"A"==e.target.tagName.toUpperCase()&&(e.preventDefault(),e.stopPropagation(),t.parent().cancel(),l.undoManager.transact(function(){m(t.lastX+1,t.lastY+1)}),l.addVisual())}}]}),l.addMenuItem("tableprops",{text:"Table properties",context:"table",onPostRender:p,onclick:u.tableProps}),l.addMenuItem("deletetable",{text:"Delete table",context:"table",onPostRender:p,cmd:"mceTableDelete"}),l.addMenuItem("cell",{separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:f("mceTableCellProps"),onPostRender:b},{text:"Merge cells",onclick:f("mceTableMergeCells"),onPostRender:function(){g(0,"td,th",!0)}},{text:"Split cell",onclick:f("mceTableSplitCells"),onPostRender:b}]}),l.addMenuItem("row",{text:"Row",context:"table",menu:[{text:"Insert row before",onclick:f("mceTableInsertRowBefore"),onPostRender:b},{text:"Insert row after",onclick:f("mceTableInsertRowAfter"),onPostRender:b},{text:"Delete row",onclick:f("mceTableDeleteRow"),onPostRender:b},{text:"Row properties",onclick:f("mceTableRowProps"),onPostRender:b},{text:"-"},{text:"Cut row",onclick:f("mceTableCutRow"),onPostRender:b},{text:"Copy row",onclick:f("mceTableCopyRow"),onPostRender:b},{text:"Paste row before",onclick:f("mceTablePasteRowBefore"),onPostRender:b},{text:"Paste row after",onclick:f("mceTablePasteRowAfter"),onPostRender:b}]}),l.addMenuItem("column",{text:"Column",context:"table",menu:[{text:"Insert column before",onclick:f("mceTableInsertColBefore"),onPostRender:b},{text:"Insert column after",onclick:f("mceTableInsertColAfter"),onPostRender:b},{text:"Delete column",onclick:f("mceTableDeleteCol"),onPostRender:b}]});var v,y=[];function w(e){return l.dom.is(e,"table")&&l.getBody().contains(e)}s("inserttable tableprops deletetable | cell row column".split(" "),function(e){"|"==e?y.push({text:"-"}):y.push(l.menuItems[e])}),l.addButton("table",{type:"menubutton",title:"Table",menu:y}),i.isIE||l.on("click",function(e){"TABLE"===(e=e.target).nodeName&&(l.selection.select(e),l.nodeChanged())}),d.quirks=new t(l),l.on("Init",function(){d.cellSelection=new n(l,function(e){e&&c&&c.clearBars()}),d.resizeBars=c}),l.on("PreInit",function(){l.serializer.addAttributeFilter("data-mce-cell-padding,data-mce-border,data-mce-border-color",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})}),s({mceTableSplitCells:function(e){e.split()},mceTableMergeCells:function(e){var t;t=l.dom.getParent(l.selection.getStart(),"th,td"),l.dom.select("td[data-mce-selected],th[data-mce-selected]").length?e.merge():u.merge(e,t)},mceTableInsertRowBefore:function(e){e.insertRows(!0)},mceTableInsertRowAfter:function(e){e.insertRows()},mceTableInsertColBefore:function(e){e.insertCols(!0)},mceTableInsertColAfter:function(e){e.insertCols()},mceTableDeleteCol:function(e){e.deleteCols()},mceTableDeleteRow:function(e){e.deleteRows()},mceTableCutRow:function(e){a=e.cutRows()},mceTableCopyRow:function(e){a=e.copyRows()},mceTablePasteRowBefore:function(e){e.pasteRows(a,!0)},mceTablePasteRowAfter:function(e){e.pasteRows(a)},mceSplitColsBefore:function(e){e.splitCols(!0)},mceSplitColsAfter:function(e){e.splitCols(!1)},mceTableDelete:function(e){c&&c.clearBars(),e.deleteTable()}},function(t,n){l.addCommand(n,function(){var n=new e(l);n&&(t(n),l.execCommand("mceRepaint"),d.cellSelection.clear())})}),s({mceInsertTable:u.table,mceTableProps:function(){u.table(!0)},mceTableRowProps:u.row,mceTableCellProps:u.cell},function(e,t){l.addCommand(t,function(t,n){e(n)})}),l.addButton("tableprops",{title:"Table properties",onclick:u.tableProps,icon:"table"}),l.addButton("tabledelete",{title:"Delete table",onclick:f("mceTableDelete")}),l.addButton("tablecellprops",{title:"Cell properties",onclick:f("mceTableCellProps")}),l.addButton("tablemergecells",{title:"Merge cells",onclick:f("mceTableMergeCells")}),l.addButton("tablesplitcells",{title:"Split cell",onclick:f("mceTableSplitCells")}),l.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:f("mceTableInsertRowBefore")}),l.addButton("tableinsertrowafter",{title:"Insert row after",onclick:f("mceTableInsertRowAfter")}),l.addButton("tabledeleterow",{title:"Delete row",onclick:f("mceTableDeleteRow")}),l.addButton("tablerowprops",{title:"Row properties",onclick:f("mceTableRowProps")}),l.addButton("tablecutrow",{title:"Cut row",onclick:f("mceTableCutRow")}),l.addButton("tablecopyrow",{title:"Copy row",onclick:f("mceTableCopyRow")}),l.addButton("tablepasterowbefore",{title:"Paste row before",onclick:f("mceTablePasteRowBefore")}),l.addButton("tablepasterowafter",{title:"Paste row after",onclick:f("mceTablePasteRowAfter")}),l.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:f("mceTableInsertColBefore")}),l.addButton("tableinsertcolafter",{title:"Insert column after",onclick:f("mceTableInsertColAfter")}),l.addButton("tabledeletecol",{title:"Delete column",onclick:f("mceTableDeleteCol")}),""!==(v=l.settings.table_toolbar)&&!1!==v&&(v||(v="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"),l.addContextToolbar(w,v)),!1!==l.settings.table_tab_navigation&&l.on("keydown",function(t){var n,o,r;9==t.keyCode&&(n=l.dom.getParent(l.selection.getStart(),"th,td"))&&(t.preventDefault(),o=new e(l),r=t.shiftKey?-1:1,l.undoManager.transact(function(){!o.moveRelIdx(n,r)&&r>0&&(o.insertRow(),o.refresh(),o.moveRelIdx(n,r))}))}),d.insertTable=m,d.setClipboardRows=function(e){a=e},d.getClipboardRows=function(){return a}})})}(window);